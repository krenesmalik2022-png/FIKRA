<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="FIKRA Admin ‚Äî Global moderation and system controls."
    />
    <title>FIKRA ‚Äî Global Admin Dashboard</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="shared-nav.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="admin-dashboard.css" />
  </head>
  <body class="fikra-nav-offset">
    <!-- Global Live Ticker -->
    <div class="global-live-ticker">
      <div class="ticker-content">
        <span class="ticker-item"
          ><span class="ticker-dot"></span>LIVE TRANSMISSION: NEW IDEA FROM
          TOKYO</span
        ><span class="ticker-item"
          ><span class="ticker-dot"></span>NEURAL SYNC ACTIVE: 1.2K THINKERS
          ONLINE</span
        ><span class="ticker-item"
          ><span class="ticker-dot"></span>REMIX SIGNAL DETECTED IN LONDON</span
        ><span class="ticker-item"
          ><span class="ticker-dot"></span>BROADCASTING GLOBAL INTELLIGENCE
          24/7</span
        ><span class="ticker-item"
          ><span class="ticker-dot"></span>LIVE TRANSMISSION: NEW IDEA FROM NEW
          YORK</span
        >
      </div>
    </div>
    <nav class="fikra-nav">
      <div class="fikra-nav-inner">
        <a href="index.html" class="fikra-nav-logo"
          ><span class="fikra-logo-text">FIKRA</span
          ><span class="fikra-logo-dot">.</span></a
        >
        <div class="fikra-nav-divider"></div>
        <div class="fikra-nav-badge admin">Admin Panel</div>
        <div class="fikra-nav-links">
          <a href="index.html" class="fikra-nav-link" id="snl-feed">Feed</a
          ><a href="profile.html" class="fikra-nav-link" id="snl-profile"
            >Profile</a
          ><a href="dashboard.html" class="fikra-nav-link" id="snl-dashboard"
            >My Intel</a
          ><a href="org-dashboard.html" class="fikra-nav-link">Org Portal</a>
        </div>
        <div class="fikra-nav-right">
          <a href="index.html" class="fikra-nav-btn back-btn">‚Üê Back</a>
        </div>
      </div>
    </nav>
    <div class="admin-layout">
      <aside class="sidebar">
        <div class="nav-group">
          <div class="nav-label">Moderation</div>
          <button
            class="nav-item active"
            id="nav-queue"
            onclick="showSection('queue', this)"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" /></svg
            >Idea Queue</button
          ><button
            class="nav-item"
            id="nav-flagged"
            onclick="showSection('flagged', this)"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"
              />
              <line x1="12" y1="9" x2="12" y2="13" />
              <line x1="12" y1="17" x2="12.01" y2="17" /></svg
            >Flagged Content
          </button>
        </div>
        <div class="nav-group">
          <div class="nav-label">System</div>
          <button
            class="nav-item"
            id="nav-users"
            onclick="showSection('users', this)"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
              <circle cx="9" cy="7" r="4" />
              <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" /></svg
            >User Management</button
          ><button
            class="nav-item"
            id="nav-surveillance"
            onclick="showSection('surveillance', this)"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="12" cy="12" r="3" />
              <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9z"
              /></svg
            >Surveillance</button
          ><button
            class="nav-item"
            id="nav-settings"
            onclick="showSection('settings', this)"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="12" cy="12" r="3" />
              <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9z"
              /></svg
            >Settings
          </button>
        </div>
      </aside>
      <main class="main">
        <div class="header-row">
          <div class="h-title">
            <h1 id="section-title">Moderation Queue</h1>
            <p id="section-sub">
              Review and approve raw community ideas from global visionaries.
            </p>
          </div>
        </div>
        <!-- NEW SURVEILLANCE PANEL -->
        <div id="panel-surveillance" class="admin-panel" style="display: none">
          <!-- SEARCH MODULE -->
          <div class="surveillance-search-module">
            <div class="search-input-wrapper">
              <span class="search-prompt">>SEARCH_USER:</span
              ><input
                type="text"
                id="admin-user-search"
                placeholder="Enter username (e.g. @freq_mind)..."
                autocomplete="off"
              /><button id="search-trigger" class="btn-matrix">Execute</button>
            </div>
            <div id="search-dossier" class="dossier-card" style="display: none">
              <!-- Javascript will inject the user dossier here -->
            </div>
          </div>
          <div class="surveillance-grid">
            <div class="s-panel">
              <div class="s-header">
                <div class="s-title">Global Event Terminal</div>
                <div class="live-indicator"></div>
              </div>
              <div class="terminal-window" id="terminal-out">
                <div class="terminal-line">
                  <span class="timestamp">[14:00:01]</span>SYSTEM_INIT:
                  Connection to Global Nodes established.
                </div>
              </div>
            </div>
            <div class="s-panel">
              <div class="s-header">
                <div class="s-title">Active Node Radar</div>
              </div>
              <div class="activity-visualizer">
                <div class="radar-ring"></div>
                <div class="radar-ring"></div>
                <div class="radar-ring"></div>
                <div id="radar-blips"></div>
              </div>
            </div>
          </div>
        </div>
        <!-- END SURVEILLANCE PANEL -->
        <div id="panel-queue" class="admin-panel" style="display: block">
          <div class="admin-banner">
            <div>
              <span class="ab-badge">‚ú¶ GLOBAL ADMIN NOTICE</span>
              <div class="ab-title">Growing FIKRA Global Presence</div>
              <p class="ab-sub">
                Approve high-impact ideas fast. We are scaling the network to
                reach every brilliant mind worldwide.
              </p>
            </div>
            <div class="ab-stat">
              <div class="ab-stat-num" id="pending-count">42</div>
              <div class="ab-stat-lbl">Global Ideas<br />Pending</div>
            </div>
          </div>
          <div class="stat-row">
            <div class="stat-card">
              <div class="sc-label">Pending Approval</div>
              <div class="sc-val">42</div>
              <div class="sc-trend up">‚Üë 12 new</div>
            </div>
            <div class="stat-card">
              <div class="sc-label">Flagged Today</div>
              <div class="sc-val">05</div>
              <div class="sc-trend">Stable</div>
            </div>
            <div class="stat-card">
              <div class="sc-label">Global Thinkers</div>
              <div class="sc-val">2.8k</div>
              <div class="sc-trend up">‚Üë 840 new</div>
            </div>
            <div class="stat-card">
              <div class="sc-label">Network Health</div>
              <div class="sc-val" style="color: var(--green)">100%</div>
              <div class="sc-trend">Operational</div>
            </div>
          </div>
          <div class="table-container">
            <div class="c-head">
              <div class="c-title">Ideation Stream (Global)</div>
            </div>
            <table class="tbl">
              <thead>
                <tr>
                  <th>Idea Content</th>
                  <th>Global Creator</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="mod-queue"></tbody>
            </table>
          </div>
        </div>
        <div id="panel-flagged" class="admin-panel" style="display: none">
          <div class="stat-card" style="text-align: center; padding: 60px">
            <div style="font-size: 40px; margin-bottom: 20px">üö©</div>
            <h2>No Flagged Content</h2>
            <p style="color: var(--text-dim)">
              The global community is currently behaving. 0 active flags.
            </p>
          </div>
        </div>
        <div id="panel-users" class="admin-panel" style="display: none">
          <div class="stat-card" style="text-align: center; padding: 60px">
            <div style="font-size: 40px; margin-bottom: 20px">üë•</div>
            <h2>2.8k Global Thinkers</h2>
            <p style="color: var(--text-dim)">
              User management sync active. Data flowing seamlessly.
            </p>
          </div>
        </div>
        <div id="panel-settings" class="admin-panel" style="display: none">
          <div style="display: grid; gap: 24px">
            <div class="stat-card">
              <h3 style="margin-top: 0; margin-bottom: 16px">
                Global AI Moderation
              </h3>
              <p
                style="
                  color: var(--text-dim);
                  margin-bottom: 20px;
                  font-size: 14px;
                "
              >
                Automatically flag and quarantine ideas that violate the
                universal Fikra protocol.
              </p>
              <button
                style="
                  background: var(--purple);
                  color: white;
                  border: none;
                  padding: 10px 20px;
                  border-radius: 8px;
                  font-weight: 600;
                  cursor: pointer;
                  transition: 0.2s;
                "
                onmouseover="this.style.opacity = 0.8"
                onmouseout="this.style.opacity = 1"
              >
                Configure Node Rules ‚Üí
              </button>
            </div>
            <div class="stat-card">
              <h3 style="margin-top: 0; margin-bottom: 16px">System Cache</h3>
              <p
                style="
                  color: var(--text-dim);
                  margin-bottom: 20px;
                  font-size: 14px;
                "
              >
                Flush the edge CDN cache across all global regions to force UI
                updates.
              </p>
              <button
                style="
                  background: transparent;
                  color: var(--red);
                  border: 1px solid var(--red);
                  padding: 10px 20px;
                  border-radius: 8px;
                  font-weight: 600;
                  cursor: pointer;
                  transition: 0.2s;
                "
                onmouseover="this.style.background = 'rgba(255, 59, 59, 0.1)'"
                onmouseout="this.style.background = 'transparent'"
              >
                Purge Cache ‚ö†Ô∏è
              </button>
            </div>
            <div class="stat-card">
              <h3 style="margin-top: 0; margin-bottom: 16px">
                Export System Logs
              </h3>
              <p
                style="
                  color: var(--text-dim);
                  margin-bottom: 20px;
                  font-size: 14px;
                "
              >
                Download 256-bit encrypted system logs for the past 24 hours.
              </p>
              <button
                style="
                  background: rgba(255, 255, 255, 0.1);
                  color: white;
                  border: none;
                  padding: 10px 20px;
                  border-radius: 8px;
                  font-weight: 600;
                  cursor: pointer;
                  transition: 0.2s;
                "
                onmouseover="this.style.background = 'rgba(255,255,255,0.2)'"
                onmouseout="this.style.background = 'rgba(255,255,255,0.1)'"
              >
                Download .log
              </button>
            </div>
          </div>
        </div>
      </main>
    </div>
    <div class="toast" id="toast"></div>
    <script>
      const QUEUE = [
        {
          id: 1,
          idea: "Build a youth entrepreneurship hub in rural towns",
          user: "@alex_c",
          status: "pending",
        },
        {
          id: 2,
          idea: "Peer-mentorship app for high schoolers",
          user: "@musa_i",
          status: "pending",
        },
        {
          id: 3,
          idea: "Mental health playlists for global commuters",
          user: "@freq_mind",
          status: "flagged",
        },
        {
          id: 4,
          idea: "Decentralized logistics for farmers worldwide",
          user: "@farm_chain",
          status: "pending",
        },
      ];

      function renderQueue() {
        const tbody = document.getElementById("mod-queue");

        tbody.innerHTML = QUEUE.map(
          (item) => ` <tr> <td><span class="idea-txt" >${item.idea}

        </span></td> <td>${item.user}

        </td> <td><span class="badge ${item.status}" >${item.status}

        </span></td> <td> <div class="actions" > <button class="btn-icon approve" onclick="process('${item.id}', 'approved')" title="Approve" > <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" ><polyline points="20 6 9 17 4 12" ></polyline></svg> </button> <button class="btn-icon reject" onclick="process('${item.id}', 'rejected')" title="Reject" > <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" ><line x1="18" y1="6" x2="6" y2="18" ></line><line x1="6" y1="6" x2="18" y2="18" ></line></svg> </button> </div> </td> </tr> `,
        ).join("");
      }

      function process(id, action) {
        const toast = document.getElementById("toast");
        toast.innerText =
          action === "approved" ? "Idea approved ‚úì" : "Idea rejected ‚úï";
        toast.classList.add("show");
        setTimeout(() => toast.classList.remove("show"), 3000);
      }

      const SECTIONS = {
        queue: [
          "Moderation Queue",
          "Review and approve raw community ideas from global visionaries.",
        ],
        flagged: [
          "Flagged Content",
          "Review content flagged by the global community.",
        ],
        users: [
          "User Management",
          "Manage global platform users and permissions.",
        ],
        settings: [
          "System Settings",
          "Configure global platform settings and controls.",
        ],
      };

      function showSection(sectionId, el) {
        document
          .querySelectorAll(".nav-item")
          .forEach((n) => n.classList.remove("active"));
        if (el) el.classList.add("active");

        document
          .querySelectorAll(".admin-panel")
          .forEach((p) => (p.style.display = "none"));
        const targetPanel = document.getElementById("panel-" + sectionId);
        if (targetPanel) targetPanel.style.display = "block";

        const info = SECTIONS[sectionId] || ["Admin Panel", ""];
        document.getElementById("section-title").textContent = info[0];
        document.getElementById("section-sub").textContent = info[1];

        const toast = document.getElementById("toast");
        toast.innerText = info[0];
        toast.classList.add("show");
        setTimeout(() => toast.classList.remove("show"), 2000);
      }

      renderQueue();

      function runGodMode() {
        const terminal = document.getElementById("terminal-out");
        const radar = document.getElementById("radar-blips");
        if (!terminal || !radar) return;

        const logs = [
          "AUTH_SUCCESS: User @freq_mind connected from Tokyo node.",
          "WARN: High remix activity detected on Idea #42 (Casablanca).",
          "NODE_SYNC: Establishing secure handshake with Berlin servers...",
          "DATA_STREAM: Collecting global youth sentiment analysis.",
          "AUTH_SUCCESS: Admin override accepted. God Mode active.",
          "WARN: Unauthorized attempt to access Drop Screen blocked.",
          "SYSTEM: Deploying AI moderation bots to feed layout.",
          "NODE_SYNC: Connection lost to Sector 4. Rerouting...",
          "AUTH_SUCCESS: User @alex_c picking Idea #14.",
          "DATA_STREAM: 2.8k concurrent thinkers online. Stable.",
        ];

        let lineCount = 1;

        setInterval(
          () => {
            // Terminal lines
            const now = new Date();

            const timeFrame = `[${now.getHours().toString().padStart(2, "0")}

            :${now.getMinutes().toString().padStart(2, "0")}

            :${now.getSeconds().toString().padStart(2, "0")}

            ]`;
            const randLog = logs[Math.floor(Math.random() * logs.length)];
            const isWarn = randLog.startsWith("WARN:");
            const div = document.createElement("div");
            div.className = "terminal-line" + (isWarn ? " warn" : "");

            div.innerHTML = `<span class="timestamp" >${timeFrame}

            </span> ${randLog}

            `;
            terminal.appendChild(div);

            if (terminal.children.length > 15) {
              terminal.removeChild(terminal.firstChild);
            }

            terminal.scrollTop = terminal.scrollHeight;

            // Radar blip
            if (Math.random() > 0.4) {
              const blip = document.createElement("div");
              blip.className = "blip";
              const angle = Math.random() * Math.PI * 2;
              const radius = Math.random() * 100;

              blip.style.left = `calc(50% + ${Math.cos(angle) * radius}

                    px)`;

              blip.style.top = `calc(50% + ${Math.sin(angle) * radius}

                    px)`;
              radar.appendChild(blip);

              setTimeout(
                () => {
                  if (radar.contains(blip)) radar.removeChild(blip);
                },

                3000,
              );
            }
          },

          1800,
        );
      }

      document.addEventListener("DOMContentLoaded", runGodMode);

      function initSearch() {
        const btn = document.getElementById("search-trigger");
        const input = document.getElementById("admin-user-search");
        const dossier = document.getElementById("search-dossier");

        if (!btn || !input || !dossier) return;

        btn.addEventListener("click", () => {
          const query = input.value.trim();
          if (!query) return;

          dossier.style.display = "flex";
          dossier.innerHTML =
            '<div class="dossier-loader">Running Global Node Diagnostics...</div>';

          setTimeout(() => {
            const name = query.replace("@", "");
            const initials = name.substring(0, 2).toUpperCase() || "XX";
            const isRisky = Math.random() > 0.8;

            dossier.innerHTML = `
        <div class="d-avatar">${initials}</div>
        <div class="d-info">
          <div class="d-name">${query}</div>
          <div class="d-handle">ID: #${Math.floor(Math.random() * 90000) + 10000} | STATUS: ACTIVE</div>
          <div class="d-grid">
            <div class="d-stat">Energy Pulse<span>${Math.floor(Math.random() * 100)}%</span></div>
            <div class="d-stat">Location<span>Node Sector ${Math.floor(Math.random() * 9) + 1}</span></div>
            <div class="d-stat">Ideas Dropped<span>${Math.floor(Math.random() * 50)}</span></div>
            <div class="d-stat">Risk Level<span style="color:var(${isRisky ? "--red-alert" : "--green-matrix"})">${isRisky ? "ELEVATED" : "NOMINAL"}</span></div>
          </div>
        </div>
      `;
          }, 1200);
        });

        input.addEventListener("keypress", (e) => {
          if (e.key === "Enter") btn.click();
        });
      }
      document.addEventListener("DOMContentLoaded", initSearch);
    </script>
  </body>
</html>
